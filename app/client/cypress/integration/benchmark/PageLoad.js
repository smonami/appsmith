const dsl = {
  widgetName: "MainContainer",
  backgroundColor: "none",
  rightColumn: 1224,
  snapColumns: 16,
  detachFromLayout: true,
  widgetId: "0",
  topRow: 0,
  bottomRow: 2240,
  containerStyle: "none",
  snapRows: 33,
  parentRowSpace: 1,
  type: "CANVAS_WIDGET",
  canExtend: true,
  version: 7,
  minHeight: 1292,
  parentColumnSpace: 1,
  dynamicBindingPathList: [],
  leftColumn: 0,
  children: [
    {
      isVisible: true,
      text: "{{Table1.tableData[0].email}}",
      textStyle: "LABEL",
      textAlign: "LEFT",
      widgetName: "Text1",
      type: "TEXT_WIDGET",
      isLoading: false,
      parentColumnSpace: 74,
      parentRowSpace: 40,
      leftColumn: 2,
      rightColumn: 6,
      topRow: 2,
      bottomRow: 3,
      parentId: "0",
      widgetId: "pc11vmo62g",
      dynamicBindingPathList: [{ key: "text" }],
    },
    {
      isVisible: true,
      text: "Submit",
      buttonStyle: "PRIMARY_BUTTON",
      widgetName: "Button1",
      isDisabled: false,
      isDefaultClickDisabled: true,
      type: "BUTTON_WIDGET",
      isLoading: false,
      parentColumnSpace: 74,
      parentRowSpace: 40,
      leftColumn: 2,
      rightColumn: 4,
      topRow: 1,
      bottomRow: 2,
      parentId: "0",
      widgetId: "zq8m01421l",
    },
    {
      isVisible: true,
      backgroundColor: "#FFFFFF",
      widgetName: "Container1",
      containerStyle: "card",
      children: [
        {
          isVisible: true,
          widgetName: "Canvas1",
          containerStyle: "none",
          canExtend: false,
          detachFromLayout: true,
          children: [
            {
              isVisible: true,
              isDisabled: false,
              datePickerType: "DATE_PICKER",
              label: "",
              dateFormat: "DD/MM/YYYY HH:mm",
              widgetName: "DatePicker1",
              defaultDate: "31/12/2020 16:58",
              type: "DATE_PICKER_WIDGET",
              isLoading: false,
              parentColumnSpace: 34.5,
              parentRowSpace: 40,
              leftColumn: 1,
              rightColumn: 6,
              topRow: 2,
              bottomRow: 3,
              parentId: "qglltl455t",
              widgetId: "rjwghbe9fj",
            },
            {
              isVisible: true,
              label: "Label",
              defaultCheckedState: true,
              widgetName: "Checkbox1",
              type: "CHECKBOX_WIDGET",
              isLoading: false,
              parentColumnSpace: 34.5,
              parentRowSpace: 40,
              leftColumn: 3,
              rightColumn: 6,
              topRow: 0,
              bottomRow: 1,
              parentId: "qglltl455t",
              widgetId: "infh8p7qz3",
            },
            {
              isVisible: true,
              widgetName: "Chart1",
              chartType: "LINE_CHART",
              chartName: "Sales on working days",
              allowHorizontalScroll: false,
              chartData: [
                {
                  seriesName: "Sales",
                  data:
                    '[\n  {\n    "x": "Mon",\n    "y": 10000\n  },\n  {\n    "x": "Tue",\n    "y": 12000\n  },\n  {\n    "x": "Wed",\n    "y": 32000\n  },\n  {\n    "x": "Thu",\n    "y": 28000\n  },\n  {\n    "x": "Fri",\n    "y": 14000\n  },\n  {\n    "x": "Sat",\n    "y": 19000\n  },\n  {\n    "x": "Sun",\n    "y": 36000\n  }\n]',
                },
              ],
              xAxisName: "Last Week",
              yAxisName: "Total Order Revenue $",
              type: "CHART_WIDGET",
              isLoading: false,
              parentColumnSpace: 34.5,
              parentRowSpace: 40,
              leftColumn: 8,
              rightColumn: 14,
              topRow: 0,
              bottomRow: 8,
              parentId: "qglltl455t",
              widgetId: "2f7abn5gx7",
              dynamicBindingPathList: [],
            },
            {
              isVisible: true,
              label: "",
              selectionType: "SINGLE_SELECT",
              options:
                '[\n  {\n    "label": "Vegetarian",\n    "value": "VEG"\n  },\n  {\n    "label": "Non-Vegetarian",\n    "value": "NON_VEG"\n  },\n  {\n    "label": "Vegan",\n    "value": "VEGAN"\n  }\n]',
              widgetName: "Dropdown1",
              defaultOptionValue: "VEG",
              type: "DROP_DOWN_WIDGET",
              isLoading: false,
              parentColumnSpace: 34.5,
              parentRowSpace: 40,
              leftColumn: 1,
              rightColumn: 6,
              topRow: 4,
              bottomRow: 5,
              parentId: "qglltl455t",
              widgetId: "o0klv0oeuy",
              dynamicBindingPathList: [],
            },
          ],
          minHeight: 400,
          type: "CANVAS_WIDGET",
          isLoading: false,
          parentColumnSpace: 1,
          parentRowSpace: 1,
          leftColumn: 0,
          rightColumn: 592,
          topRow: 0,
          bottomRow: 400,
          parentId: "d2rf2owgly",
          widgetId: "qglltl455t",
        },
      ],
      type: "CONTAINER_WIDGET",
      isLoading: false,
      parentColumnSpace: 74,
      parentRowSpace: 40,
      leftColumn: 8,
      rightColumn: 16,
      topRow: 10,
      bottomRow: 20,
      parentId: "0",
      widgetId: "d2rf2owgly",
    },
    {
      isVisible: true,
      isDisabled: false,
      datePickerType: "DATE_PICKER",
      label: "",
      dateFormat: "DD/MM/YYYY HH:mm",
      widgetName: "DatePicker2",
      defaultDate: "31/12/2020 16:58",
      type: "DATE_PICKER_WIDGET",
      isLoading: false,
      parentColumnSpace: 74,
      parentRowSpace: 40,
      leftColumn: 11,
      rightColumn: 16,
      topRow: 6,
      bottomRow: 7,
      parentId: "0",
      widgetId: "a8grnlydlk",
    },
    {
      isVisible: true,
      files: [],
      label: "Select Files",
      maxNumFiles: "1",
      maxFileSize: "5",
      widgetName: "FilePicker1",
      isDefaultClickDisabled: true,
      type: "FILE_PICKER_WIDGET",
      isLoading: false,
      parentColumnSpace: 74,
      parentRowSpace: 40,
      leftColumn: 4,
      rightColumn: 8,
      topRow: 17,
      bottomRow: 18,
      parentId: "0",
      widgetId: "nx2nltvd4y",
      dynamicBindingPathList: [],
    },
    {
      isVisible: true,
      inputType: "TEXT",
      label: "",
      widgetName: "Input1",
      type: "INPUT_WIDGET",
      isLoading: false,
      parentColumnSpace: 74,
      parentRowSpace: 40,
      leftColumn: 4,
      rightColumn: 9,
      topRow: 21,
      bottomRow: 22,
      parentId: "0",
      widgetId: "3920pvqheb",
      dynamicBindingPathList: [{ key: "defaultText" }],
      defaultText: "{{DatePicker1.selectedDate}}",
    },
    {
      isVisible: true,
      label: "",
      options:
        '{{\nTable1.tableData.map((el)=>{return {\nlabel:\nel.email,\nvalue: el.id+""\n};\n})\n\n}}',
      defaultOptionValue: "2736212",
      widgetName: "RadioGroup1",
      type: "RADIO_GROUP_WIDGET",
      isLoading: false,
      parentColumnSpace: 74,
      parentRowSpace: 40,
      leftColumn: 1,
      rightColumn: 4,
      topRow: 13,
      bottomRow: 15,
      parentId: "0",
      widgetId: "g2pcng2nzt",
      dynamicPropertyPathList: [{ key: "options" }],
      dynamicBindingPathList: [{ key: "options" }],
    },
    {
      isVisible: true,
      isDisabled: false,
      widgetName: "Map1",
      enableSearch: true,
      zoomLevel: 50,
      enablePickLocation: true,
      allowZoom: true,
      mapCenter: { lat: -34.397, long: 150.644 },
      defaultMarkers:
        '[\n  {\n    "lat": -34.397,\n    "long": 150.644,\n    "title": "Test A"\n  }\n]',
      type: "MAP_WIDGET",
      isLoading: false,
      parentColumnSpace: 74,
      parentRowSpace: 40,
      leftColumn: 1,
      rightColumn: 9,
      topRow: 23,
      bottomRow: 35,
      parentId: "0",
      widgetId: "q4c0xe4jik",
      dynamicBindingPathList: [],
    },
    {
      isVisible: true,
      shouldScrollContents: false,
      widgetName: "Tabs1",
      tabs: [
        { label: "Tab 1", id: "tab1", widgetId: "ujnk4rxy6u" },
        { label: "Tab 2", id: "tab2", widgetId: "80f70etzap" },
      ],
      shouldShowTabs: true,
      defaultTab: "Tab 1",
      type: "TABS_WIDGET",
      isLoading: false,
      parentColumnSpace: 74,
      parentRowSpace: 40,
      leftColumn: 1,
      rightColumn: 9,
      topRow: 39,
      bottomRow: 46,
      parentId: "0",
      widgetId: "v52vaj3dw2",
      children: [
        {
          type: "CANVAS_WIDGET",
          tabId: "tab1",
          tabName: "Tab 1",
          widgetId: "ujnk4rxy6u",
          parentId: "v52vaj3dw2",
          detachFromLayout: true,
          children: [
            {
              isVisible: true,
              label: "",
              options: [
                { label: "Male", value: "M" },
                { label: "Female", value: "F" },
              ],
              defaultOptionValue: "M",
              widgetName: "RadioGroup2",
              type: "RADIO_GROUP_WIDGET",
              isLoading: false,
              parentColumnSpace: 34.5,
              parentRowSpace: 40,
              leftColumn: 2,
              rightColumn: 5,
              topRow: 1,
              bottomRow: 3,
              parentId: "ujnk4rxy6u",
              widgetId: "6y8v8f9ago",
            },
          ],
          parentRowSpace: 1,
          parentColumnSpace: 1,
          leftColumn: 0,
          rightColumn: 592,
          topRow: 0,
          bottomRow: 280,
          isLoading: false,
          widgetName: "Canvas2",
          renderMode: "CANVAS",
        },
        {
          type: "CANVAS_WIDGET",
          tabId: "tab2",
          tabName: "Tab 2",
          widgetId: "80f70etzap",
          parentId: "v52vaj3dw2",
          detachFromLayout: true,
          children: [
            {
              isVisible: true,
              defaultImage:
                "https://res.cloudinary.com/drako999/image/upload/v1589196259/default.png",
              imageShape: "RECTANGLE",
              maxZoomLevel: 1,
              image: "",
              widgetName: "Image1",
              type: "IMAGE_WIDGET",
              isLoading: false,
              parentColumnSpace: 34.5,
              parentRowSpace: 40,
              leftColumn: 2,
              rightColumn: 6,
              topRow: 1,
              bottomRow: 4,
              parentId: "80f70etzap",
              widgetId: "ac6itsbzu0",
            },
          ],
          parentRowSpace: 1,
          parentColumnSpace: 1,
          leftColumn: 0,
          rightColumn: 592,
          topRow: 0,
          bottomRow: 280,
          isLoading: false,
          widgetName: "Canvas2",
          renderMode: "CANVAS",
        },
      ],
    },
    {
      isVisible: true,
      defaultText: "This is the initial <b>content</b> of the editor",
      isDisabled: false,
      widgetName: "RichTextEditor1",
      isDefaultClickDisabled: true,
      type: "RICH_TEXT_EDITOR_WIDGET",
      isLoading: false,
      parentColumnSpace: 74,
      parentRowSpace: 40,
      leftColumn: 1,
      rightColumn: 9,
      topRow: 49,
      bottomRow: 54,
      parentId: "0",
      widgetId: "hkxdi3t5vx",
    },
    {
      isVisible: true,
      inputType: "TEXT",
      label: "",
      widgetName: "Input2",
      type: "INPUT_WIDGET",
      isLoading: false,
      parentColumnSpace: 74,
      parentRowSpace: 40,
      leftColumn: 7,
      rightColumn: 12,
      topRow: 47,
      bottomRow: 48,
      parentId: "0",
      widgetId: "v0pexvzeef",
    },
    {
      isVisible: true,
      text: "{{Tabs1}}",
      textStyle: "LABEL",
      textAlign: "LEFT",
      widgetName: "Text2",
      type: "TEXT_WIDGET",
      isLoading: false,
      parentColumnSpace: 74,
      parentRowSpace: 40,
      leftColumn: 2,
      rightColumn: 6,
      topRow: 47,
      bottomRow: 48,
      parentId: "0",
      widgetId: "l998sf5rqg",
      dynamicBindingPathList: [{ key: "text" }],
    },
    {
      isVisible: true,
      files: [],
      label: "Select Files",
      maxNumFiles: "1",
      maxFileSize: "5",
      widgetName: "FilePicker2",
      isDefaultClickDisabled: true,
      type: "FILE_PICKER_WIDGET",
      isLoading: false,
      parentColumnSpace: 74,
      parentRowSpace: 40,
      leftColumn: 2,
      rightColumn: 6,
      topRow: 36,
      bottomRow: 37,
      parentId: "0",
      widgetId: "m5qs16epr4",
      dynamicBindingPathList: [],
    },
    {
      isVisible: true,
      label: "Data",
      widgetName: "Table1",
      searchKey: "",
      tableData:
        '[\n  {\n    "id": 2381224,\n    "email": "michael.lawson@reqres.in",\n    "userName": "Michael Lawson",\n    "productName": "Chicken Sandwich",\n    "orderAmount": 4.99\n  },\n  {\n    "id": 2736212,\n    "email": "lindsay.ferguson@reqres.in",\n    "userName": "Lindsay Ferguson",\n    "productName": "Tuna Salad",\n    "orderAmount": 9.99\n  },\n  {\n    "id": 6788734,\n    "email": "tobias.funke@reqres.in",\n    "userName": "Tobias Funke",\n    "productName": "Beef steak",\n    "orderAmount": 19.99\n  }\n]',
      type: "TABLE_WIDGET",
      isLoading: false,
      parentColumnSpace: 74,
      parentRowSpace: 40,
      leftColumn: 0,
      rightColumn: 8,
      topRow: 4,
      bottomRow: 11,
      parentId: "0",
      widgetId: "dbmri946zz",
      dynamicBindingPathList: [],
    },
  ],
};
describe("Benchmark EvalTree", function() {
  before(() => {
    cy.addDsl({ dsl });
  });
  it("run 100 times", function() {
    for (let i = 0; i < 100; i++) {
      cy.readTabledataPublish("1", "2").then((tabData) => {
        const tabValue = tabData;
        expect(tabValue).to.be.equal("Lindsay Ferguson");
        cy.log("the value is" + tabValue);
      });
      cy.wait(1000);
      cy.reload();
    }
  });
});
